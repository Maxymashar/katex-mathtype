(()=>{"use strict";class e{constructor(e,t,s){this.globalTranslateX=e,this.globalTranslateY=t,this.originalRight=null,this.originalBottom=null,this.backgroundColor=s,this.originalX=null,this.originalY=null}addMotion(e,t,s){switch(s){case"right":e.addEventListener("mousedown",(()=>{const e=({clientX:e})=>{const{left:s}=t.getBoundingClientRect(),n=e-s;t.style.width=n+"px",t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}));break;case"left":e.addEventListener("mousedown",(()=>{const s=({clientX:s})=>{const{left:n}=e.getBoundingClientRect(),o=n-s;t.style.width=o+t.offsetWidth+"px",this.globalTranslateX-=o,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",s),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",s)}))}));break;case"bottom":e.addEventListener("mousedown",(()=>{const e=({clientY:e})=>{const{top:s}=t.getBoundingClientRect(),n=e-s;t.style.height=n+"px"};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}));break;case"top":e.addEventListener("mousedown",(()=>{const e=({clientY:e})=>{const{top:s}=t.getBoundingClientRect(),n=s-e;t.style.height=n+t.offsetHeight+"px",this.globalTranslateY-=n,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}))}}addResizers(e){const t=document.createElement("div");t.classList.add("res-top"),t.classList.add("res"),t.style.backgroundColor=this.backgroundColor,this.addMotion(t,e,"top");const s=document.createElement("div");s.classList.add("res-bottom"),s.classList.add("res"),this.addMotion(s,e,"bottom"),s.style.backgroundColor=this.backgroundColor;const n=document.createElement("div");n.classList.add("res-left"),n.classList.add("res"),n.style.backgroundColor=this.backgroundColor,this.addMotion(n,e,"left");const o=document.createElement("div");o.classList.add("res-right"),o.classList.add("res"),o.style.backgroundColor=this.backgroundColor,this.addMotion(o,e,"right"),e.appendChild(t),e.appendChild(s),e.appendChild(n),e.appendChild(o)}render(){const e=document.querySelector("body"),t=document.createElement("div");t.addEventListener("mousedown",(({clientX:e,clientY:s,shiftKey:n})=>{if(n){const n=({clientX:n,clientY:o})=>{if(this.originalX||this.originalY){const e=n-this.originalX,s=o-this.originalY;this.globalTranslateX+=e,this.globalTranslateY+=s,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`,this.originalX=n,this.originalY=o}else this.originalX=e,this.originalY=s},o=()=>{window.removeEventListener("mousemove",n)};window.addEventListener("mousemove",n),window.addEventListener("mouseup",o)}})),t.classList.add("resizable-div"),t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`,e.appendChild(t),this.addResizers(t)}}new e(100,100,"pink").render(),new e(100,300,"red").render()})();