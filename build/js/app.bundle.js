(()=>{"use strict";class e{constructor(e,t,n,i){this.globalTranslateX=e,this.globalTranslateY=t,this.originalRight=null,this.originalBottom=null,this.backgroundColor=n,this.originalX=null,this.originalY=null,this.div=null,this.onDimensionChange=i}addMotion(e,t,n){switch(n){case"right":e.addEventListener("mousedown",(()=>{const e=({clientX:e})=>{const{left:n}=t.getBoundingClientRect(),i=e-n;t.style.width=i+"px",this.onDimensionChange(t.offsetWidth,t.offsetHeight),t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}));break;case"left":e.addEventListener("mousedown",(()=>{const n=({clientX:n})=>{const{left:i}=e.getBoundingClientRect(),s=i-n;t.style.width=s+t.offsetWidth+"px",this.onDimensionChange(t.offsetWidth,t.offsetHeight),this.globalTranslateX-=s,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",n),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",n)}))}));break;case"bottom":e.addEventListener("mousedown",(()=>{const e=({clientY:e})=>{const{top:n}=t.getBoundingClientRect(),i=e-n;t.style.height=i+"px",this.onDimensionChange(t.offsetWidth,t.offsetHeight)};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}));break;case"top":e.addEventListener("mousedown",(()=>{const e=({clientY:e})=>{const{top:n}=t.getBoundingClientRect(),i=n-e;t.style.height=i+t.offsetHeight+"px",this.onDimensionChange(t.offsetWidth,t.offsetHeight),this.globalTranslateY-=i,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`};window.addEventListener("mousemove",e),window.addEventListener("mouseup",(()=>{window.removeEventListener("mousemove",e)}))}))}}addResizers(e){const t=document.createElement("div");t.classList.add("res-top"),t.classList.add("res"),t.style.backgroundColor=this.backgroundColor,this.addMotion(t,e,"top");const n=document.createElement("div");n.classList.add("res-bottom"),n.classList.add("res"),this.addMotion(n,e,"bottom"),n.style.backgroundColor=this.backgroundColor;const i=document.createElement("div");i.classList.add("res-left"),i.classList.add("res"),i.style.backgroundColor=this.backgroundColor,this.addMotion(i,e,"left");const s=document.createElement("div");s.classList.add("res-right"),s.classList.add("res"),s.style.backgroundColor=this.backgroundColor,this.addMotion(s,e,"right"),e.appendChild(t),e.appendChild(n),e.appendChild(i),e.appendChild(s)}render(){const e=document.querySelector("body"),t=document.createElement("div");this.div=t,t.addEventListener("mousedown",(({clientX:e,clientY:n,shiftKey:i})=>{if(i){const i=({clientX:i,clientY:s})=>{if(this.originalX||this.originalY){const e=i-this.originalX,n=s-this.originalY;this.globalTranslateX+=e,this.globalTranslateY+=n,t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`,this.originalX=i,this.originalY=s}else this.originalX=e,this.originalY=n},s=()=>{window.removeEventListener("mousemove",i),this.originalX=null,this.originalY=null};window.addEventListener("mousemove",i),window.addEventListener("mouseup",s)}})),t.classList.add("resizable-div"),t.style.transform=`translateX(${this.globalTranslateX}px) translateY(${this.globalTranslateY}px)`,e.appendChild(t),this.addResizers(t)}}const t=document.getElementById("blue-width"),n=document.getElementById("blue-height"),i=document.getElementById("pink-width"),s=document.getElementById("pink-height"),o=document.getElementById("dx"),d=document.getElementById("dy");let l={newWidth:150,newHeight:150},a={newWidth:150,newHeight:150};const r=new e(50,100,"pink",((e,t)=>{l={newWidth:e,newHeight:t},g()})),h=new e(50,300,"blue",((e,t)=>{a={newWidth:e,newHeight:t},g()})),g=()=>{n.innerText="Height : "+a.newHeight,t.innerText="Width : "+a.newWidth,s.innerText="Height : "+l.newHeight,i.innerText="Width : "+l.newWidth;const e=h.div.getBoundingClientRect().left-r.div.getBoundingClientRect().right,g=h.div.getBoundingClientRect().top-r.div.getBoundingClientRect().bottom;o.innerText=`dx : ${e} px`,d.innerText=`dy : ${g} px`};r.render(),h.render()})();